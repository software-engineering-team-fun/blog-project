<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="../img/favicon.ico">
    <link type="text/css" rel="stylesheet" href="css/login.css">
    <link type="text/css" rel="stylesheet" href="css/fontawesome.css">
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <title>Logout</title>
  </head>
  <body >
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
       <a style="padding-left:1.0rem" class="navbar-brand">LiveBlog</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarText">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="/home">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/about">About</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/feed">Feed</a>
      </li>
      <li class="nav-item">
        <a id = "createNav" style = "display:block;" class="nav-link" href="/create">Create</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" href="/contact">Contact Us</a>
      </li>
    </ul>
    <div class="navbar-nav ms-auto">
          <a style="padding-right:1.2rem"class="nav-link" id = "logoutNav" href="/logout">Logout </a>
      </div>
  </div>
</nav>


    <div class="container text-center">
              <div class="row ">
                  <div id = "userDetails">   </div>
                  <button id = "googleLogout" style = "display: block" "text-align:center;">Signout</button>
            </div>
      </div>
<script src="/__/firebase/7.6.1/firebase-app.js"></script>
  <script src="/__/firebase/7.6.1/firebase-auth.js"></script>
  </body>
  

   <script>
   firebase.initializeApp({
  apiKey: "AIzaSyBZ5qRQ_Wj6uidTds4zrAySVhSSZlAPrGk",
  authDomain: "final-project-9b3c9.firebaseapp.com",
  projectId: "final-project-9b3c9",
  storageBucket: "final-project-9b3c9.appspot.com",
  messagingSenderId: "301025290077",
  appId: "1:301025290077:web:088624a5e6aeb37ba2eab4",
  measurementId: "G-P9V184X1V5"
});
document.getElementById('googleLogout').addEventListener('click',GoogleLogout)

 function GoogleLogout(){
    console.log("Logout Btn call")
    firebase.auth().signOut().then(() =>{
    }).catch(e =>{
      console.log(e)
    })
    window.location.replace('/login');


 }
 firebase.auth().onAuthStateChanged((user) => {
    if (user) {
      // The user is logged in
       document.getElementById('userDetails').innerHTML = `
        <p> Name: ${user.displayName}</p>
        <p> Email: ${user.email}</p> `
    } else {
      // The user is not logged in
      document.getElementById("user-info").innerHTML = "Please sign in to continue.";
    }
  });

</script>
</html>